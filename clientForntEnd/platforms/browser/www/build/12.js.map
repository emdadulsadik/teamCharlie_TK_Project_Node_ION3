{"version":3,"sources":["../../src/pages/find-friends/find-friends.module.ts","../../src/pages/find-friends/find-friends.ts"],"names":[],"mappings":"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","file":"12.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { FindFriendsPage } from './find-friends';\n\n@NgModule({\n  declarations: [\n    FindFriendsPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(FindFriendsPage),\n  ],\n})\nexport class FindFriendsPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/find-friends/find-friends.module.ts","import { Component, ViewChild, ElementRef } from '@angular/core';\nimport { IonicPage, NavController, NavParams} from 'ionic-angular';\nimport { TabsPage } from '../tabs/tabs';\nimport { UsertabsPage } from '../usertabs/usertabs';\nimport { Storage } from '@ionic/storage';\nimport { Geolocation } from '@ionic-native/geolocation';\nimport { NgForm } from '@angular/forms';\nimport { Location } from '../../models/location';\nimport { LocationProvider } from '../../providers/location/location';\nimport { ProfilePage } from '../profile/profile';\n\ndeclare var google;\n@IonicPage()\n@Component({\n  selector: 'page-find-friends',\n  templateUrl: 'find-friends.html',\n})\nexport class FindFriendsPage {\n  @ViewChild('map') mapElement: ElementRef;\n  map: any;\n  hide: boolean = false;\n  locations: Location[];\n\n \n\n\n  constructor(public navCtrl: NavController, \n    public navParams: NavParams, \n     public storage: Storage,\n     public geolocation: Geolocation, \n    public locationService: LocationProvider \n     \n   ) {\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad AddFavouritePlacePage');\n    console.log(this.locations);\n    this.mapInit();\n   this.locationService.getLocation().subscribe((data)=>{\n          this.locations = data ; \n          console.log(this.locations);\n   })  \n  }\n\n\n  mapInit() {\n    this.geolocation.getCurrentPosition().then(\n      location => {\n        let latLng = new google.maps.LatLng(location.coords.latitude, location.coords.longitude);\n        let mapOptions = {\n          center: latLng,\n          zoom: 15,\n          mapTypeId: google.maps.MapTypeId.ROADMAP\n        }\n        this.map = new google.maps.Map(this.mapElement.nativeElement, mapOptions);\n      });\n  }\n\n  /**\n * @description- Get the token value form sqlLite Storage\n * @author-Khondakar Readul Islam\n * @type {Promise<any>}\n * @memberOf UserManagementPage\n */\ntoken:Promise<any> = this.storage.get('token').then((val)=>{\n  return this.token = val;\n}).catch(\n  (err)=>{\n    console.log(err);\n  }\n)\n\n\n/**\n* @description- Change the Footbar to default if token is null\n* @author-Khondakar Readul Islam\n* @memberOf UserManagementPage\n*/\ngoToRootAgain(){\n  this.storage.get('token').then((val)=>{\n    if(val==null){\n      this.navCtrl.setRoot(TabsPage); \n    }else{\n      this.navCtrl.setRoot(UsertabsPage); \n    }\n  })\n}\n\n\nuserId:Promise<any> = this.storage.get('userId').then((val)=>{\n  return this.userId = val; \n}).catch(\n  (err)=>{\n    console.log(err); \n  }\n)\n\n /**\n   * @description- Change the Footbar to default if token is null\n   * @author-Khondakar Readul Islam\n   * @memberOf UserManagementPage\n   */\n\n  onLocateMe(){\n    this.geolocation.getCurrentPosition().then(\n      location => {\n        let latLng = new google.maps.LatLng(location.coords.latitude, location.coords.longitude);\n        let mapOptions = {\n          center: latLng,\n          zoom: 15,\n          mapTypeId: google.maps.MapTypeId.ROADMAP\n        };\n        this.map = new google.maps.Map(this.mapElement.nativeElement, mapOptions);\n        var geocoder = new google.maps.Geocoder(); \n        geocoder.geocode({'latLng':latLng},function(results,status){\n          if (status !== google.maps.GeocoderStatus.OK){\n            console.log(status);\n          }\n          if(status == google.maps.GeocoderStatus.OK){\n            var address = (results[0].formatted_address); \n          }\n          this.storage.get('userId').then((userId)=>{\n            console.log(latLng);\n            this.locationService.addLocation(latLng,userId,address).subscribe((data)=>{\n              console.log(data);\n            },(error)=>{\n              console.log(error);\n            })\n          }).catch((err)=>{\n            console.log(err);\n          })\n          let marker = new google.maps.Marker({\n            map:this.map,\n            animation: google.maps.Animation.DROP,\n            position: this.map.getCenter()\n          });\n          let content = `<h5>${address}</h5>`;\n          this.addInfoWindow(marker,content); \n        }.bind(this))\n      }\n    )\n  }\n\n  /**\n   * @description- Change the Footbar to default if token is null\n   * @author-Khondakar Readul Islam\n   * @memberOf UserManagementPage\n   */\n  onLocateFriends() {\n    for (var i = 0; i < this.locations.length; ++i) {\n      let marker = new google.maps.Marker({\n        map:this.map,\n        animation: google.maps.Animation.DROP,\n        position: new google.maps.LatLng(this.locations[i].lat, this.locations[i].lng),\n      }); \n      var content = `<h5>${this.locations[i].userName}</h5>\n                    <p>${ this.locations[i].formatedAddress }  </p>\n                    <p>Active Time: ${this.locations[i].created}</p>`;\n      this.addInfoWindow(marker, content); \n    }\n    this.hide = !this.hide;\n    console.log('Hitting')\n  }\n\naddInfoWindow(marker, content){\n  let infoWindow = new google.maps.InfoWindow({\n    content: content\n  });\n  google.maps.event.addListener(marker, 'click', () => {\n    infoWindow.open(this.map, marker);\n  });\n \n}\n\n/**\n  * @description- Change the Footbar to default if token is null\n  * @author-Khondakar Readul Islam\n  * @param {Location} location \n  * @param {number} index \n  * \n  * @memberOf FindFriendsPage\n */\nviewProfile(location: Location, index: number) {\n  this.navCtrl.push('ProfilePage', {\n    location: location,\n    index: index\n  });\n}\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/find-friends/find-friends.ts"],"sourceRoot":""}