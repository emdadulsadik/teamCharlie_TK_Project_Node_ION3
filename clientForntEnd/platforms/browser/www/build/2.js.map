{"version":3,"sources":["../../src/pages/timeline/timeline.module.ts","../../src/pages/timeline/timeline.ts"],"names":[],"mappings":"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","file":"2.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { TimelinePage } from './timeline';\n\n@NgModule({\n  declarations: [\n    TimelinePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(TimelinePage),\n  ],\n})\nexport class TimelinePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/timeline/timeline.module.ts","import {\n  Component,\n} from '@angular/core';\nimport {\n  IonicPage,\n  NavController,\n  NavParams\n} from 'ionic-angular';\nimport {\n  SetActivity\n} from \"../../models/setActivites\";\n\nimport {\n  TimelineProvider\n} from '../../providers/timeline/timeline';\nimport {\n  Storage\n} from '@ionic/storage';\n@IonicPage()\n@Component({\n  selector: 'page-timeline',\n  templateUrl: 'timeline.html',\n})\nexport class TimelinePage {\n\n  setActivity:SetActivity[]=[];\n\n  constructor(public navCtrl: NavController,\n    public navParams: NavParams,\n    public timelineProvider: TimelineProvider,\n    public storage: Storage,\n    //  private datePicker: DatePicker\n  ) {\n    // this.today = new Date().toISOString();\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad TimelinePage');\n   \n    // console.log(this.dataInicial);\n    this.searchTheActivity()\n  }\n\n\n\n  searchTheActivity(){\n    console.log('ff');\n    this.storage.get('userId').then((userId)=>{\n      this.timelineProvider.getActivityForTimeline(userId).subscribe(\n        data => { \n          for( let item of data){\n            item.distance = this.getDistanceFromLatLonInKm(\n              item.location.start.lat,\n              item.location.start.lng,\n              item.location.end.lat,\n              item.location.end.lng );\n            item.timedelta = new Date(item.end).valueOf() - new Date(item.start).valueOf();\n            item.timedelta = this.TimeforHumans( item.timedelta / 1000 );\n            this.setActivity.push(item);\n            \n          }; \n\n        },\n        \n        error=> console.log('ActivityRecords Fetching Error', error)\n      );\n    }).catch( err => console.log(err) );\n  \n  }\n\n\n  /**\n  * @description- Change the Footbar to default if token is null\n  * @author-Khondakar Readul Islam\n  * @memberOf ActivityRecords\n  */\n getDistanceFromLatLonInKm(lat1,lon1,lat2,lon2) {\n  var R = 6371; // Radius of the earth in km\n  var dLat = this.deg2rad(lat2-lat1);  // deg2rad below\n  var dLon = this.deg2rad(lon2-lon1); \n  var a = \n      Math.sin(dLat/2) * Math.sin(dLat/2) +\n      Math.cos( this.deg2rad(lat1)) * Math.cos( this.deg2rad(lat2) ) * \n      Math.sin(dLon/2) * Math.sin(dLon/2)\n      ; \n  var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a)); \n  var d = Math.round(R * c); // Distance in km\n  return d;\n}\n/**\n* @description- Change the Footbar to default if token is null\n* @author-Khondakar Readul Islam\n* @memberOf ActivityRecords\n*/\ndeg2rad(deg) {\n  return deg * (Math.PI/180)\n}\n\n\n/**\n* @description- Change the Footbar to default if token is null\n* @author-Khondakar Readul Islam\n* @memberOf ActivityRecords\n*/\nTimeforHumans ( seconds ) {\n  var levels = [\n      [Math.floor(seconds / 31536000), 'years'],\n      [Math.floor((seconds % 31536000) / 86400), 'days'],\n      [Math.floor(((seconds % 31536000) % 86400) / 3600), 'hours'],\n      [Math.floor((((seconds % 31536000) % 86400) % 3600) / 60), 'minutes'],\n      [(((seconds % 31536000) % 86400) % 3600) % 60, 'seconds'],\n  ];\n  var returntext = '';\n\n  for (var i = 0, max = levels.length; i < max; i++) {\n      if ( levels[i][0] === 0 ) continue;\n      returntext += ' ' + levels[i][0] + ' ' + (levels[i][0] === 1 ? \n        levels[i][1].toString().substr( 0 , ( levels[i][1]).toString().length - 1 ) : levels[i][1]);\n  };\n  return returntext.trim();\n}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/timeline/timeline.ts"],"sourceRoot":""}