{"version":3,"sources":["../../src/pages/find-friends/find-friends.module.ts","../../src/pages/find-friends/find-friends.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACC;AAUjD;IAAA;IAAoC,CAAC;IAAxB,qBAAqB;QARjC,uEAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,sEAAe;aAChB;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,sEAAe,CAAC;aAC1C;SACF,CAAC;OACW,qBAAqB,CAAG;IAAD,4BAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZ+B;AACR;AACjB;AACY;AACX;AACe;AAEa;AAGtC;AACM;AAQrC;IAOE,yBAAmB,OAAsB,EAChC,SAAoB,EACnB,OAAgB,EAChB,WAAwB,EACzB,eAAiC,EACjC,IAAU;QALnB,iBAQC;QARkB,YAAO,GAAP,OAAO,CAAe;QAChC,cAAS,GAAT,SAAS,CAAW;QACnB,YAAO,GAAP,OAAO,CAAS;QAChB,gBAAW,GAAX,WAAW,CAAa;QACzB,oBAAe,GAAf,eAAe,CAAkB;QACjC,SAAI,GAAJ,IAAI,CAAM;QATnB,SAAI,GAAW,KAAK,CAAC;QAyCrB;;;;;SAKC;QACH,UAAK,GAAgB,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,UAAC,GAAG;YACtD,MAAM,CAAC,KAAI,CAAC,KAAK,GAAG,GAAG,CAAC;QAC1B,CAAC,CAAC,CAAC,KAAK,CACN,UAAC,GAAG;YACF,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACnB,CAAC,CACF;QAmBD;;;;UAIE;QACF,WAAM,GAAgB,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,UAAC,GAAG;YACxD,MAAM,CAAC,KAAI,CAAC,MAAM,GAAG,GAAG,CAAC;QAC3B,CAAC,CAAC,CAAC,KAAK,CACN,UAAC,GAAG;YACF,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACnB,CAAC,CACF;IAvEC,CAAC;IAED,wCAAc,GAAd;QAAA,iBAUC;QATC,OAAO,CAAC,GAAG,CAAC,sCAAsC,CAAC,CAAC;QACpD,8BAA8B;QAC7B,IAAI,CAAC,OAAO,EAAE,CAAC;QACjB,IAAI,CAAC,eAAe,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC,UAAC,IAAI;YAC3C,KAAI,CAAC,SAAS,GAAG,IAAI,CAAE;YACvB,OAAO,CAAC,GAAG,CAAC,KAAI,CAAC,SAAS,CAAC,CAAC;QACnC,CAAC,CAAC,CAAC;QACN,sBAAsB;IAEpB,CAAC;IAID,iCAAO,GAAP;QAAA,iBAWC;QAVC,IAAI,CAAC,WAAW,CAAC,kBAAkB,EAAE,CAAC,IAAI,CACxC,kBAAQ;YACN,IAAI,MAAM,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAE,QAAQ,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;YACzF,IAAI,UAAU,GAAG;gBACf,MAAM,EAAE,MAAM;gBACd,IAAI,EAAE,EAAE;gBACR,SAAS,EAAE,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO;aACzC;YACD,KAAI,CAAC,GAAG,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,KAAI,CAAC,UAAU,CAAC,aAAa,EAAE,UAAU,CAAC,CAAC;QAC5E,CAAC,CAAC,CAAC;IACP,CAAC;IAiBH;;;;MAIE;IACF,uCAAa,GAAb;QAAA,iBAQC;QAPC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,UAAC,GAAG;YACjC,EAAE,EAAC,GAAG,IAAE,IAAI,CAAC,EAAC;gBACZ,KAAI,CAAC,OAAO,CAAC,OAAO,CAAC,4DAAQ,CAAC,CAAC;YACjC,CAAC;YAAA,IAAI,EAAC;gBACJ,KAAI,CAAC,OAAO,CAAC,OAAO,CAAC,wEAAY,CAAC,CAAC;YACrC,CAAC;QACH,CAAC,CAAC;IACJ,CAAC;IAeD;;;;MAIE;IACF,oCAAU,GAAV;QAAA,iBAyCC;QAvCC,IAAI,CAAC,WAAW,CAAC,kBAAkB,EAAE,CAAC,IAAI,CACxC,kBAAQ;YACN,IAAI,MAAM,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAE,QAAQ,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;YACzF,IAAI,UAAU,GAAG;gBACf,MAAM,EAAE,MAAM;gBACd,IAAI,EAAE,EAAE;gBACR,SAAS,EAAE,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO;aACzC,CAAC;YAEF,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,UAAC,MAAM;gBACrC,KAAI,CAAC,eAAe,CAAC,WAAW,CAAC,MAAM,EAAC,MAAM,CAAC;qBAC9C,SAAS,CACR,cAAI,IAAG,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,GAAC,EAC3B,eAAK,IAAG,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,GAAC,CAAC,CAAC;YAC/B,CAAC,CAAC,CAAC,KAAK,CAAC,UAAC,GAAG;gBACX,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACnB,CAAC,CAAC;YAEJ,KAAI,CAAC,GAAG,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,KAAI,CAAC,UAAU,CAAC,aAAa,EAAE,UAAU,CAAC,CAAC;YAE5E,IAAI,MAAM,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;gBACpC,GAAG,EAAE,KAAI,CAAC,GAAG;gBACb,SAAS,EAAE,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI;gBACrC,QAAQ,EAAE,KAAI,CAAC,GAAG,CAAC,SAAS,EAAE;aAC5B,CAAC,CAAC;YAEN,IAAI,OAAO,GAAG,SAAO,MAAM,2CACF,CAAC;YAE1B,KAAI,CAAC,aAAa,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;YAEhC,OAAO,CAAC,GAAG,CAAE,KAAI,CAAC,GAAG,CAAC,CAAC;QACzB,CAAC,CAEF,CAAC,KAAK,CAAC,UAAC,KAAK;YACX,OAAO,CAAC,GAAG,CAAC,wBAAwB,EAAE,KAAK,CAAC,CAAC;QAC/C,CAAC,CAAC,CAAC;IAGN,CAAC;IACD;;;;MAIE;IACF,yCAAe,GAAf;QACA,IAAI,WAAW,GAAG,EAAE,CAAC;QACrB,GAAG,EAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAC,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE,CAAC;YAE5C,IAAI,MAAM,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;gBAClC,GAAG,EAAE,IAAI,CAAC,GAAG;gBACb,SAAS,EAAE,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI;gBACrC,QAAQ,EAAE,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;aAC/E,CAAC,CAAC;YAEH,IAAI,QAAQ,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;YACxC,IAAI,YAAY,GAAG,EAAC,GAAG,EAAE,UAAU,CAAC,EAAE,GAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,GAAG,EAAC,UAAU,CAAC,EAAE,GAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,GAAG,GAAC,EAAE,CAAC,EAAC,CAAC;YAC5G,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;YAE1B,QAAQ,CAAC,OAAO,CAAC,EAAE,QAAQ,EAAE,YAAY,EAAE,EAAE,UAAU,OAAO,EAAE,MAAM;gBAChE,EAAE,CAAC,CAAC,MAAM,KAAK,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC,CAAC;oBAC3C,KAAK,CAAC,MAAM,CAAC,CAAC;gBAClB,CAAC;gBACD,wEAAwE;gBACxE,EAAE,CAAC,CAAC,MAAM,IAAI,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC,CAAC;oBAC1C,wBAAwB;oBACxB,IAAI,OAAO,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,iBAAiB,CAAC,CAAC;oBAC7C,yBAAyB;oBAC1B,gCAAgC;oBAChC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;gBAG7B,CAAC;YACL,CAAC,CAAC,CAAC;YAEL,IAAI,OAAO,GAAG,SAAO,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,QAAQ,oCACzB,WAAW,CAAC,CAAC,CAAC,kDACF,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,OAAO,6BAC1C,CAAC;YAClB,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;QAEtC,CAAC;QACC,IAAI,CAAC,IAAI,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC;QACzB,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC;IACtB,CAAC;IAKD,qCAAW,GAAX,UAAY,QAAkB,EAAE,KAAY;QAC1C,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,aAAa,EAAE,EAAC,QAAQ,EAAE,QAAQ,EAAE,KAAK,EAAE,KAAK,EAAC,CAAC,CAAC;IACvE,CAAC;IAGD;;;;MAIE;IACF,uCAAa,GAAb,UAAc,MAAM,EAAE,OAAO;QAA7B,iBAUC;QARC,IAAI,UAAU,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC;YAC1C,OAAO,EAAE,OAAO;SACjB,CAAC,CAAC;QAEH,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,MAAM,EAAE,OAAO,EAAE;YAC7C,UAAU,CAAC,IAAI,CAAC,KAAI,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;QACpC,CAAC,CAAC,CAAC;IAEL,CAAC;IA1MmB;QAAjB,yEAAS,CAAC,KAAK,CAAC;kCAAa,iEAAU;uDAAC;IAD9B,eAAe;QAJ3B,wEAAS,CAAC;YACT,QAAQ,EAAE,mBAAmB;WACG;SACjC,CAAC;6EAQyC;YACrB,gEAAS;YACV,8EAAO;YACH,sFAAW;YACR,6DAAgB;YAC3B,IAAI;OAZR,eAAe,CA+M3B;IAAD,CAAC;AAAA;SA/MY,eAAe,gB","file":"13.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { FindFriendsPage } from './find-friends';\n\n@NgModule({\n  declarations: [\n    FindFriendsPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(FindFriendsPage),\n  ],\n})\nexport class FindFriendsPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/find-friends/find-friends.module.ts","import { Component, ViewChild, ElementRef } from '@angular/core';\nimport { IonicPage, NavController, NavParams} from 'ionic-angular';\nimport { TabsPage } from '../tabs/tabs';\nimport { UsertabsPage } from '../usertabs/usertabs';\nimport { Storage } from '@ionic/storage';\nimport { Geolocation } from '@ionic-native/geolocation';\nimport { Location } from '../../models/location';\nimport { LocationProvider } from '../../providers/location/location';\nimport { ProfilePage } from '../profile/profile'; \n\nimport 'rxjs/add/operator/map';\nimport { Http } from '@angular/http';\n\ndeclare var google;\n@IonicPage()\n@Component({\n  selector: 'page-find-friends',\n  templateUrl: 'find-friends.html',\n})\nexport class FindFriendsPage {\n  @ViewChild('map') mapElement: ElementRef;\n  map: any;\n  hide:boolean = false; \n\n  // location: Location[];\n  locations: Location[];\n  constructor(public navCtrl: NavController, \n    public navParams: NavParams, \n     public storage: Storage,\n     public geolocation: Geolocation, \n    public locationService: LocationProvider,\n    public http: Http \n     \n   ) {\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad AddFavouritePlacePage');\n    // console.log(this.location);\n     this.mapInit();\n   this.locationService.getLocation().subscribe((data)=>{\n          this.locations = data ; \n          console.log(this.locations);\n   });\n// this.findAddress();\n  \n  }\n\n \n\n  mapInit(){\n    this.geolocation.getCurrentPosition().then(\n      location =>{\n        let latLng = new google.maps.LatLng(location.coords.latitude, location.coords.longitude);\n        let mapOptions = {\n          center: latLng,\n          zoom: 15,\n          mapTypeId: google.maps.MapTypeId.ROADMAP\n        }\n        this.map = new google.maps.Map(this.mapElement.nativeElement, mapOptions); \n      });\n  }\n\n  /**\n * @description- Get the token value form sqlLite Storage\n * @author-Khondakar Readul Islam\n * @type {Promise<any>}\n * @memberOf UserManagementPage\n */\ntoken:Promise<any> = this.storage.get('token').then((val)=>{\n  return this.token = val;\n}).catch(\n  (err)=>{\n    console.log(err);\n  }\n)\n\n\n/**\n* @description- Change the Footbar to default if token is null\n* @author-Khondakar Readul Islam\n* @memberOf UserManagementPage\n*/\ngoToRootAgain(){\n  this.storage.get('token').then((val)=>{\n    if(val==null){\n      this.navCtrl.setRoot(TabsPage); \n    }else{\n      this.navCtrl.setRoot(UsertabsPage); \n    }\n  })\n}\n\n\n/**\n* @description- Change the Footbar to default if token is null\n* @author-Khondakar Readul Islam\n* @memberOf UserManagementPage\n*/\nuserId:Promise<any> = this.storage.get('userId').then((val)=>{\n  return this.userId = val; \n}).catch(\n  (err)=>{\n    console.log(err); \n  }\n)\n/**\n* @description- Change the Footbar to default if token is null\n* @author-Khondakar Readul Islam\n* @memberOf UserManagementPage\n*/\nonLocateMe(){\n  \n  this.geolocation.getCurrentPosition().then(\n    location =>{\n      let latLng = new google.maps.LatLng(location.coords.latitude, location.coords.longitude);\n      let mapOptions = {\n        center: latLng,\n        zoom: 15,\n        mapTypeId: google.maps.MapTypeId.ROADMAP\n      };\n\n      this.storage.get('userId').then((userId)=>{\n        this.locationService.addLocation(latLng,userId)\n        .subscribe(\n          data=>{console.log(latLng)},\n          error=>{console.log(error)});\n        }).catch((err)=>{\n          console.log(err);\n        }) \n\n      this.map = new google.maps.Map(this.mapElement.nativeElement, mapOptions);\n     \n    let marker = new google.maps.Marker({\n    map: this.map,\n    animation: google.maps.Animation.DROP,\n    position: this.map.getCenter()\n     });\n \n  let content = `<h4>${latLng}</h4> <br>\n                  <p> </p>`;         \n \n  this.addInfoWindow(marker, content);\n\n      console.log( this.map); \n    }\n    \n  ).catch((error) => {\n     console.log('Error getting location', error);\n   });\n\n   \n}\n/**\n* @description- Change the Footbar to default if token is null\n* @author-Khondakar Readul Islam\n* @memberOf UserManagementPage\n*/\nonLocateFriends(){\nvar addressFull = [];\nfor(var i = 0; i<this.locations.length; ++i) {\n\n  let marker = new google.maps.Marker({\n    map: this.map, \n    animation: google.maps.Animation.DROP,\n    position: new google.maps.LatLng(this.locations[i].lat, this.locations[i].lng),\n  });\n\n  var geocoder = new google.maps.Geocoder;\n  var conCatLatLng = {lat: parseFloat(''+this.locations[i].lat), lng:parseFloat(''+this.locations[i].lng+'')};\n  console.log(conCatLatLng); \n    \n  geocoder.geocode({ 'latLng': conCatLatLng }, function (results, status) {\n        if (status !== google.maps.GeocoderStatus.OK) {\n            alert(status);\n        }\n        // This is checking to see if the Geoeode Status is OK before proceeding\n        if (status == google.maps.GeocoderStatus.OK) {\n            // console.log(results);\n            var address = (results[0].formatted_address);\n            //  console.log(address);\n           // `<p>Address : ${address}</p>`\n           addressFull.push(address);\n\n\n        }\n    }); \n\n  var content = `<h4>${this.locations[i].userName}</h4>\n                  <p>${ addressFull[i] }  </p>\n                  <p>Active Time: ${this.locations[i].created}</p>\n                  `; \n  this.addInfoWindow(marker, content);\n  \n}\n  this.hide = !this.hide; \nconsole.log('Hitting')\n}\n\n\n\n\nviewProfile(location: Location, index:number){\n  this.navCtrl.push('ProfilePage', {location: location, index: index});\n}\n\n\n/**\n* @description- Change the Footbar to default if token is null\n* @author-Khondakar Readul Islam\n* @memberOf UserManagementPage\n*/\naddInfoWindow(marker, content){\n \n  let infoWindow = new google.maps.InfoWindow({\n    content: content\n  });\n \n  google.maps.event.addListener(marker, 'click', () => {\n    infoWindow.open(this.map, marker);\n  });\n \n}\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/find-friends/find-friends.ts"],"sourceRoot":""}